function Bookcase(n,t,i,r,u,f){var o,l,s,e,h,c;this.container=n;this.originalData=i;this.userData=t;this.data=i;this.cateData=r;this.classData=u;this.departmentData=f;this.bookWidth=130;this.offsetX=20;this.rowHeight=136;this.firstRowOverHeight=this.userData.isShowCategory=="1"?42:0;this.total=this.data.length;this.current=1;this.pages=1;this.needReload=!1;this.cache=[];this.skins=["red","gold","silver","green","yellow"];this.currentSkinId=this.skins.indexOf(t.skin||"red");this.isShowSkin=!1;this.sortBy="New2Old";this.imgUrl=["Includes/Bookcase/gold-1.png","Includes/Bookcase/red-1.png","Includes/Bookcase/silver-1.png","Includes/Bookcase/green-1.png","Includes/Bookcase/yellow-1.png","Includes/Bookcase/gold-3.png","Includes/Bookcase/red-3.png","Includes/Bookcase/silver-3.png","Includes/Bookcase/green-3.png","Includes/Bookcase/yellow-3.png","Includes/Bookcase/gold-2.png","Includes/Bookcase/red-2.png","Includes/Bookcase/silver-2.png","Includes/Bookcase/green-2.png","Includes/Bookcase/yellow-2.png","Includes/Bookcase/gold-2-big.jpg","Includes/Bookcase/red-2-big.jpg","Includes/Bookcase/silver-2-big.jpg","Includes/Bookcase/green-2-big.jpg","Includes/Bookcase/yellow-2-big.jpg"];this.body=$("body");this.body.addClass(t.skin?t.skin:this.skins[this.currentSkinId]);this.panel=$("<div class='bookcase-panel'><\/div>");this.navContainer=$("<div class='nav-container'><div class='nav-left'><\/div><div class='nav-middle'><\/div><div class='nav-right'><\/div><\/div>");this.navBrandingContainer=$("<div class='nav-branding-container'><\/div>");this.navTitle=$("<a rel='nofollow' class='font-style' target='_blank'>"+t.title+"<\/a>");o=this.userData.logoLink;o===""||o.match("http")||(o="http://"+o);o!==""&&this.navTitle.attr("href",o);this.userData.isShowContact==="0"&&this.navBrandingContainer.addClass("disabled");this.searchContainer=$("<div class='search-container'><\/div>");this.searchInput=$("<input class='input-style' type='text'>");this.searchButton=$("<div class='search-icon'><\/div>");this.searchCancelButton=$("<div class='search-cancel-icon hide'><\/div>");this.userData.isShowSearch==="0"&&this.searchContainer.addClass("hide");this.caseContainer=$("<div class='case-container'><\/div>");this.caseBackground=$("<div class='case-background'><\/div>");this.casePageContainer=$("<div class='case-page-container user-select-none'><\/div>");this.caseCateSelectContainer=$("<div class='case-cate-select-container'><\/div>");this.caseCateSelectInner=$("<div class='case-cate-select-inner input-style as-input'><\/div>");this.messageContainer=$("<div class='case-message vertical hide'><\/div>");this.messageContent=$("<div class='vertical-content'><\/div>");this.controlPanel=$("<div class='control-panel user-select-none'><\/div>");this.prevButton=$("<div class='control-button control-prev-button'><\/div>");this.nextButton=$("<div class='control-button control-next-button'><\/div>");this.pageInput=$("<input type='text' class='page-num-input input-style'>");this.skinButton=$("<div class='skin-button'><\/div>");this.skinPanel=$("<ul class='skin-panel'><li><\/li><li><\/li><li><\/li><li><\/li><li><\/li><\/ul>");this.userData.isShowSkin==="0"&&this.skinButton.addClass("hide");this.navRightButtonContainer=$("<div class='nav-right-button-container'><\/div>");this.sortPanel=$("<div class='sort-panel user-select-none'><\/div>");this.sortNameButton=$("<div class='sort-button sort-name-button'><\/div>");this.sortCategoryButton=$("<div class='sort-button sort-cate-button'><\/div>");this.sortDepartmentButton=$("<div class='sort-button sort-date-button'><\/div>");this.shareButton=$("<div class='share-button'><\/div>");this.bottomLogo=$("<span class='bottom-logo-link'><\/span>");this.bottomLogoImg=$("<img />");l="";s="";this.userData.isShowLogo==="1"&&(this.bottomLogo.fadeIn(),s=this.userData.logoAddress,this.bottomLogoImg.attr("src",s));this.userData.isShowShare==="0"&&this.shareButton.addClass("hide");e=this;h=this.skinPanel.find("li");h.eq(this.currentSkinId).addClass("skin-chosen");this.shareButton.hammer().on("tap",this.share.bind(this));this.skinButton.hammer().on("tap",function(){e.isShowSkin?(e.skinPanel.css({height:0,bottom:5,opacity:0}),e.isShowSkin=!1):(e.skinPanel.css({height:200,bottom:205,opacity:1}),e.isShowSkin=!0)});this.skinPanel.find("li").each(function(n,t){var i=$(t);i.hammer().on("tap",function(){h.eq(e.currentSkinId).removeClass("skin-chosen");e.body.removeClass(e.skins[e.currentSkinId]);e.body.addClass(e.skins[n]);i.addClass("skin-chosen");e.currentSkinId=n})});this.bottomLogo.hammer().on("tap",function(){e.userData.isShowContact==="1"&&new UserDetailPanel(t)});this.pageInput.on("keypress",function(n){if(n.which===13){var i=e.pageInput.val().trim(),t=parseInt(i,10);isNaN(t)&&(t=1);e.skipTo(t)}});this.pageInput.on("focus",function(){e.pageInput.val("")});this.pageInput.on("blur",function(){var n=e.pageInput.val().trim();n===""&&e.pageInput.val(e.current+" / "+e.pages)});this.casePageContainer.hammer().on("tap",".book-img-wrapper",function(){var n=this.id;e.data[n]._domainUrl=e.data[n].url;switch(e.userData.openType){case"0":RunFile(e.data[n].url);break;case"2":window.open(e.data[n]._domainUrl);break;default:new BookDetailPanel($(this).clone(),e.data[n])}});this.searchButton.hammer().on("tap",this.search.bind(this));this.searchCancelButton.hammer().on("tap",this.cancelSearch.bind(this));this.searchInput.on("keypress",function(n){n.which===13&&e.search()});utils.addPlaceHolder(this.searchInput,"Ara");this.prevButton.hammer().on("tap",this.prev.bind(this));this.nextButton.hammer().on("tap",this.next.bind(this));this.caseContainer.on("touchmove",function(n){n.preventDefault()});this.casePageContainer.hammer().on("swipeleft",function(){e.next()});this.casePageContainer.hammer().on("swiperight",function(){e.prev()});this.panel.append(this.navContainer.append(this.navBrandingContainer.append(this.navTitle)).append(this.searchContainer.append(this.searchInput).append(this.searchButton).append(this.searchCancelButton))).append(this.caseContainer.append(this.caseBackground).append(this.casePageContainer).append(this.messageContainer.append(this.messageContent)).append(this.navRightButtonContainer.append(this.sortPanel.append(this.sortNameButton).append(this.sortCategoryButton).append(this.sortDepartmentButton)))).append(this.controlPanel.append(this.prevButton).append(this.pageInput).append(this.nextButton).append(this.skinButton.append(this.skinPanel)).append(this.bottomLogo.append(this.bottomLogoImg))).appendTo(n);this.classData.unshift({value:"-1",label:"Hepsi",isDefault:!0});this.caseClassSelect=new SmartSelect({container:this.sortNameButton,data:this.classData,changeCallback:function(){e.search()}});this.cateData.unshift({value:"-1",label:"Hepsi",isDefault:!0});this.caseCategorySelect=new SmartSelect({container:this.sortCategoryButton,data:this.cateData,changeCallback:function(){e.search()}});this.departmentData.unshift({value:"-1",label:"Hepsi",isDefault:!0});this.caseDepartmentSelect=new SmartSelect({container:this.sortDepartmentButton,data:this.departmentData,changeCallback:function(){e.search()}});c=null;$(window).on("resize",function(){clearTimeout(c);c=setTimeout(function(){e.resize()},50)});this.resize();utils.loadImg(this.imgUrl)}function LightBox(n,t,i){this.width=t;(window.innerWidth<t||t=="auto")&&(t=window.innerWidth);this.background=$("<div class='light-box-background'><\/div>");this.box=$("<div class='light-box'><\/div>").width(t).addClass(i);this.panel=$("<div class='light-box-panel'><\/div>");this.title=$("<div class='light-box-title'>"+n+"<\/div>");this.cancelButton=$("<div class='light-box-cancel-button'>x<\/div>");this.box.append(this.title.append(this.cancelButton)).append(this.panel);this.document=$(document);this.isNoResize=!1;$(window).on("resize",this.resize.bind(this,0));this.cancelButton.hammer().on("tap",this.cancel.bind(this));this.background.hammer().on("tap",this.cancel.bind(this))}function DemoPanel(n,t){document.location.protocol==="https:"&&(t="http://dijital.tedes.com.tr/"+t.replace("http://","")+"index.html");this.lightBox=new LightBox(n+"&nbsp;&nbsp;<a target='_blank' href='"+t+"'>Yeni pencerede a&ccedil;<\/a>","auto");this.iframe=$("<iframe allowfullscreen frameborder='0'><\/iframe>");var i=this;setTimeout(function(){i.iframe.attr("src",t)},300);this.iframe.on("touchmove",function(n){n.preventDefault()});$(window).on("resize",this.resize.bind(this));this.resize();this.lightBox.getPanel().addClass("padding-xs").append(this.iframe);this.lightBox.launch()}function BookDetailPanel(n,t){this.data=t;this.boxWidth=485;this.lightBox=new LightBox("Ayr&#305;nt&#305;lar",this.boxWidth);this.panel=$("<div class='light-box-panel'><\/div>");this.detailContainer=$("<div class='book-detail-container'><\/div>");this.bookContainer=$("<div class='book-detail-book-container'><\/div>");this.shelf=$("<img class='book-detail-book-shelf' src='Includes/Bookcase/shelf.png'>");this.title=$("<div class='book-detail-title'>"+t.title+"<\/div>");this.info=$("<div class='book-detail-info'>Sayfa: "+t.pages+"<\/div>");this.desc=$("<div class='book-detail-desc' title='"+t.description+"'>"+t.description+"<\/div>");this.viewButton=$("<div class='button button-blue button-rounded button-block button-large'>A&ccedil;<\/div>");n.hammer().on("tap",this.view.bind(this));this.viewButton.hammer().on("tap",RunFile(t.url));this.lightBox.getPanel().append(this.detailContainer.append(this.bookContainer.append(n.prepend(this.shelf))).append(this.title).append(this.info).append(this.desc).append(this.viewButton));$(window).on("resize",this.resize.bind(this));this.resize();this.lightBox.launch()}function UserDetailPanel(n){var t=new LightBox("&#304;leti&#351;im",485);this.lightBox=t;this.data=n;this.userGroup=$("<div class='row user-info-container float-fix'><\/div>");this.userLogoContainer=$("<div class='user-logo-container'><\/div>");this.userLogo=$("<img src='"+n.accountLogo+"'>");this.userInfoGroup=$("<div class='left user-info-group'><\/div>");this.userName=$("<p>"+n.name+"<\/p>");this.userAbout=$("<p>"+n.about+"<\/p>");this.userWebsite=$("<p><strong>Web:<\/strong> <a target='_blank' href='"+(n.website.match("https?://")?n.website:"//"+n.website)+"'>"+n.website+"<\/a><\/p>");n.website==""&&this.userWebsite.addClass("hide");this.contactForm=$("<div><\/div>");this.nameInput=$("<input class='user-info-input' type='text' placeholder='Ad&#305;n&#305;z' value=''><\/input>");this.emailInput=$("<input class='user-info-input' type='email' placeholder='E-mail Adresiniz' value=''><\/input>");this.subjectInput=$("<input class='user-info-input' type='text' placeholder='Konu' value=''><\/input>");this.messageArea=$("<textarea class='user-info-textarea' rows='4' placeholder='Mesaj'><\/textarea>");this.buttonGroup=$("<div class='row text-center'><\/div>");this.sendButton=$("<div class='button button-gray button-rounded button-block button-large'>G&ouml;nder<\/div>");this.successGroup=$("<div class='alert-success user-info-mail-status-container hide'><\/div>");this.successText=$("<p>Mesaj g&ouml;nderildi!<\/p>");this.successButtonGroup=$("<div class='row'><\/div>");this.successAnotherButton=$("<div class='button button-blue button-rounded marginX'>Ba&#351;ka mesaj  g&ouml;nder<\/div>");this.successCloseButton=$("<div class='button button-gray button-rounded marginX'>Kapat<\/div>");this.sendingGroup=$("<div class='alert-info user-info-mail-status-container hide'><\/div>");this.sendingText=$("<p>G&ouml;nderiliyor...<\/p>");this.errorGroup=$("<div class='alert-error user-info-mail-status-container hide'><\/div>");this.errorText=$("<p>Oops! Olmad&#305;. Daha sonra tekrar dene.<\/p>");this.errorButtonGroup=$("<div class='row'><\/div>");this.errorReSendButton=$("<div class='button button-blue button-rounded marginX'>Tekrar G&ouml;nder<\/div>");this.errorCloseButton=$("<div class='button button-gray button-rounded marginX'>Kapat<\/div>");t.getPanel().append(this.userGroup.append(this.userLogoContainer.append(this.userLogo)).append(this.userInfoGroup.append(this.userName).append(this.userAbout).append(this.userWebsite))).append(this.contactForm.append(this.nameInput).append(this.emailInput).append(this.subjectInput).append(this.messageArea).append(this.buttonGroup.append(this.sendButton))).append(this.sendingGroup.append(this.sendingText)).append(this.successGroup.append(this.successText).append(this.successButtonGroup.append(this.successAnotherButton).append(this.successCloseButton))).append(this.errorGroup.append(this.errorText).append(this.errorButtonGroup.append(this.errorReSendButton).append(this.errorCloseButton)));this.sendButton.hammer().on("tap",this.send.bind(this));this.successAnotherButton.hammer().on("tap",this.sendAnother.bind(this));this.successCloseButton.hammer().on("tap",this.close.bind(this));this.errorReSendButton.hammer().on("tap",this.reSend.bind(this));this.errorCloseButton.hammer().on("tap",this.close.bind(this));t.launch(!0)}function SharePanel(n){if(this.options=n,this.lightBox=new LightBox("Payla&#351;",485),this.qrCodeGroup=$("<div class='row text-center'><\/div>"),this.qrContainer=$("<div class='share-qr-container'><\/div>"),this.urlGroup=$("<div class='row'><\/div>"),this.urlLabel=$("<label>Adres<\/label>"),this.urlInput=$("<input type='text' value='"+location.href+"'><\/input>"),this.shareGroup=$("<div class='row float-fix'><\/div>"),this.shareLabel=$("<label class='left'>Payla&#351;<\/label>"),this.shareButtonGroup=$("<span class='left share-social-button-group'><\/span>"),this.shareFacebook=$("<a href='https://www.facebook.com/sharer/sharer.php?u="+location.href+"' target='_blank'><img src='Includes/Social/facebook.png'><\/a>"),this.shareTwitter=$("<a href='https://www.twitter.com/share?url="+location.href+"' target='_blank'><img src='Includes/Social/twitter.png'><\/a>"),this.shareGoogle=$("<a href='https://plus.google.com/share?url="+location.href+"' target='_blank'><img src='Includes/Social/googleplus.png'><\/a>"),this.shareLinkedIn=$("<a href='https://www.linkedin.com/cws/share?url="+location.href+"' target='_blank'><img src='Includes/Social/linkedin.png'><\/a>"),this.shareEmail=$("<img src='Includes/Social/email.png'>"),this.emailPanel=$("<div class='share-email-panel' style='display: none;'><\/div>"),this.emailWrapper=$("<div class='share-email-panel-wrapper'><\/div>"),this.shareForm=$("<div><\/div>"),this.toEmailGroup=$("<div class='row'><\/div>"),this.toEmailLabel=$("<label>G&ouml;nderilecek Email Adresi<\/label>"),this.toEmailInput=$("<input type='email' value='' placeholder='G&ouml;nderilecek Email Adresi'><\/input>"),this.fromNameGroup=$("<div class='row'><\/div>"),this.fromNameLabel=$("<label>Ad&#305;n&#305;z<\/label>"),this.fromNameInput=$("<input type='text' value='' placeholder='Ad&#305;n&#305;z'><\/input>"),this.fromEmailGroup=$("<div class='row'><\/div>"),this.fromEmailLabel=$("<label>Email Adresiniz<\/label>"),this.fromEmailInput=$("<input type='email' value='' placeholder='Email Adresiniz'><\/input>"),this.messageGroup=$("<div class='row'><\/div>"),this.messageLabel=$("<label>Mesaj<\/label>"),this.messageInput=$("<textarea rows='3' placeholder='Mesaj'><\/textarea>"),this.sendButton=$("<div class='button button-gray button-block'>G&ouml;nder<\/div>"),this.successGroup=$("<div class='alert-success user-info-mail-status-container hide'><\/div>"),this.successText=$("<p>Mesaj g&ouml;nderildi!<\/p>"),this.successButtonGroup=$("<div class='row'><\/div>"),this.successAnotherButton=$("<div class='button button-blue button-rounded marginX'>Ba&#351;ka bir mesaj g&ouml;nder<\/div>"),this.successCloseButton=$("<div class='button button-gray button-rounded marginX'>Kapat<\/div>"),this.sendingGroup=$("<div class='alert-info user-info-mail-status-container hide'><\/div>"),this.sendingText=$("<p>G&ouml;nderiliyor...<\/p>"),this.errorGroup=$("<div class='alert-error user-info-mail-status-container hide'><\/div>"),this.errorText=$("<p>Oops! Olmad&#305;. Daha sonra tekrar dene.<\/p>"),this.errorButtonGroup=$("<div class='row'><\/div>"),this.errorReSendButton=$("<div class='button button-blue button-rounded marginX'>Tekrar G&ouml;nder<\/div>"),this.errorCloseButton=$("<div class='button button-gray button-rounded marginX'>Kapat<\/div>"),this.lightBox.getPanel().append(this.qrCodeGroup.append(this.qrContainer)).append(this.urlGroup.append(this.urlLabel).append(this.urlInput)).append(this.shareGroup.append(this.shareLabel).append(this.shareButtonGroup.append(this.shareFacebook).append(this.shareTwitter).append(this.shareGoogle).append(this.shareLinkedIn).append(this.shareEmail))).append(this.emailPanel.append(this.emailWrapper.append(this.shareForm.append(this.toEmailGroup.append(this.toEmailInput)).append(this.fromNameGroup.append(this.fromNameInput)).append(this.fromEmailGroup.append(this.fromEmailInput)).append(this.messageGroup.append(this.messageInput)).append(this.sendButton)).append(this.sendingGroup.append(this.sendingText)).append(this.successGroup.append(this.successText).append(this.successButtonGroup.append(this.successAnotherButton).append(this.successCloseButton))).append(this.errorGroup.append(this.errorText).append(this.errorButtonGroup.append(this.errorReSendButton).append(this.errorCloseButton))))),this.qrContainer.qrcode({width:110,height:110,text:location.href}),!n.isSelf)this.shareFacebook.add(this.shareTwitter).add(this.shareGoogle).add(this.shareLinkedIn).hammer().on("tap",function(){});this.lightBox.launch(!0);var t=this,i=!1;this.urlInput.hammer().on("tap",function(){t.urlInput[0].select()});this.shareEmail.hammer().on("tap",function(){i?(t.emailPanel.slideUp(400,function(){t.lightBox.resize()}),i=!1):(t.emailPanel.slideDown(400,function(){t.lightBox.resize()}),i=!0)});this.sendButton.hammer().on("tap",this.send.bind(this));this.successAnotherButton.hammer().on("tap",this.sendAnother.bind(this));this.successCloseButton.hammer().on("tap",this.close.bind(this));this.errorReSendButton.hammer().on("tap",this.reSend.bind(this));this.errorCloseButton.hammer().on("tap",this.close.bind(this))}function SmartSelect(n){var f={container:null,data:[],changeCallback:function(){}};this.options=$.extend({},f,n);this.showing=!1;var t,i=this.options.data,e=i.length,r=this,u;for(this.valueContainer=$("<div class='hide'><\/div>"),this.optionContainer=$("<ul class='cc-smart-select-option-ul'><\/ul>"),t=0;t<e;t++)this.optionContainer.append("<li data-value="+i[t].value+" data-label='"+i[t].label+"'>"+i[t].label+"<\/li>"),i[t].isDefault&&this.valueContainer.text(i[t].label).data("value",i[t].value);this.options.container.append(this.optionContainer);u=this.optionContainer.find("li");u.css({paddingLeft:this.options.container.css("paddingLeft")});r.optionContainer.hide();this.optionContainer.hammer().on("tap",this.choose.bind(this));this.options.container.hammer().on("tap",this.toggleOption.bind(this));$(document).hammer().on("tap",function(n){$.contains(r.options.container[0],n.target)||r.options.container[0]==n.target||r.hideOptions()})}var utils={encodeHTML:function(n){return(typeof n=="undefined"||n==null)&&(n=""),n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\n/g,"<br>")},addPlaceHolder:function(n,t){n.val(t);n.on("focus",function(){n.val().trim()===t&&n.val("")});n.on("blur",function(){n.val().trim()===""&&n.val(t)})},parseDate:function(n){var r=n.split(" "),t=r[0].split("."),i=r[1].split(":");return new Date(t[2],t[1]-1,t[0],i[0],i[1],i[2])},nl2br:function(n){return n.replace(/\n/g,"<br>")},br2nl:function(n){return n.replace(/<.?br.?>/g,"\n")},validateForm:function(n){var t=!1;return n.find("input, textarea").each(function(n,i){var r=$(i),u=r.val().trim();u===""||r.attr("type")==="email"&&u.lastIndexOf("@")===-1?(r.addClass("invalid"),t=!0):r.removeClass("invalid")}),!t},loadImg:function(n){for(var t=0,r=n.length,i,t=0;t<r;t++)i=new Image,i.src=n[t]}};Bookcase.prototype={shakeMessage:function(){this.messageContainer.animate({left:"-=2px"},50).animate({left:"+=4px"},50).animate({left:"-=4px"},50).animate({left:"+=2px"},50)},showMessage:function(n,t){this.messageContent.html(n);this.messageContainer.stop(!0,!0).fadeIn();t&&this.messageContainer.stop(!0,!0).delay(1e3).fadeOut()},hideMessage:function(){this.messageContainer.hide()},getInputAutoWidth:function(n){var i=this.pageInput.val(),t=$("<div><\/div>").text(i).css({fontSize:this.pageInput.css("font-size"),display:this.pageInput.css("display"),padding:this.pageInput.css("padding"),opacity:0}).appendTo(n.parent()),r=t.outerWidth();return t.remove(),r},share:function(){new SharePanel({isSelf:this.userData.isSelf})},cancelSearch:function(){this.searchInput.val("").focus();this.searchCancelButton.hide();this.searchButton.show();this.hideMessage(0);this.search()},search:function(){var i=this,t=this.searchInput.val().trim().toLowerCase(),f=this.caseCategorySelect&&this.caseCategorySelect.val(),e=this.caseClassSelect&&this.caseClassSelect.val(),o=this.caseDepartmentSelect&&this.caseDepartmentSelect.val(),n,l=this.originalData.length,r=[],s,h,u,c;for(t==="ara"&&(t=""),t!=""?(this.searchButton.hide(),this.searchCancelButton.show()):(this.searchButton.show(),this.searchCancelButton.hide()),n=0;n<l;n++)s=this.originalData[n].title.toLowerCase(),h=this.originalData[n].description.toLowerCase(),(s.match(t)||h.match(t))&&(this.originalData[n].categoryid==f||f==-1)&&(this.originalData[n].sinifid==e||e==-1)&&(this.originalData[n].bransid==o||o==-1)&&r.push(this.originalData[n]);if(this.data=r,this.resize(!0),r.length===0){u=$("<p>Sonu&ccedil; yok. <\/p>");c=$("<a href='javascript:void(0);'>Geri<\/a>").appendTo(u);c.hammer().on("tap",function(){i.cancelSearch()});i.showMessage(u)}else i.hideMessage()},autoFitToBottom:function(n,t,i,r){var f=this,u=new Image,e=$("<div class='loading'><img src='Includes/Bookcase/loading.gif'><\/div>").appendTo(n);u.onload=function(){var v=n.height(),s=n.width(),y=u.width/u.height,h=v,c=v*y,p,w,l,o,a,b;for(c>s&&(c=s,h=s/y),p=(s-c)/2,w=v-h,t.css({width:c,height:h,left:p,top:w}),l=4,a=$("<div class='book-border-container'><\/div>"),a.css({right:-l,width:l}),o=0;o<l;o++)b=$("<div><\/div>").css({position:"absolute",width:1,background:o%2==0?"#ccc":"#fff",height:h-2*(o+1),top:o+1,left:o+1}).appendTo(a);i.after(a);setTimeout(function(){t.fadeIn(400,function(){f.cache[r]=n});e.remove()},50)};u.onerror=function(){var w=$("<div class='as-book-img'><\/div>"),a=n.height(),o=n.width(),v=3/4,s=a,h=a*v,y,p,c,u,l,b;for(h>o&&(h=o,s=o/v),y=(o-h)/2,p=a-s,t.css({width:h,height:s,left:y,top:p}),c=4,l=$("<div class='book-border-container'><\/div>"),l.css({right:-c,width:c}),u=0;u<c;u++)b=$("<div><\/div>").css({position:"absolute",width:1,background:u%2==0?"#ccc":"#fff",height:s-2*(u+1),top:u+1,left:u+1}).appendTo(l);i.after(w).after(l);setTimeout(function(){i.hide();t.fadeIn(400,function(){f.cache[r]=n})},50);e.remove()};u.src=i.attr("src")},skipTo:function(n){if(n>this.pages?n=this.pages:n<1&&(n=1),this.pageInput.val(n+" / "+this.pages),n!=this.current||this.needReload){var i=this.casePageContainer.find("#page-"+this.current),t=this.casePageContainer.find("#page-"+n),r=this.casePageContainer.find("#page-"+(n-1)),u=this.casePageContainer.find("#page-"+(n+1));t&&t.length>0||(t=this.createPage(n));n<this.current?(i.css({webkitTransform:"translateX(100%)",mozTransform:"translateX(100%)",oTransform:"translateX(100%)",msTransform:"translateX(100%)",transform:"translateX(100%)",opacity:0}),t.css({webkitTransform:"translateX(0%)",mozTransform:"translateX(0%)",oTransform:"translateX(0%)",msTransform:"translateX(0%)",transform:"translateX(0%)",opacity:1})):(i.css({webkitTransform:"translateX(-100%)",mozTransform:"translateX(-100%)",oTransform:"translateX(-100%)",msTransform:"translateX(-100%)",transform:"translateX(-100%)",opacity:0}),t.css({webkitTransform:"translateX(0%)",mozTransform:"translateX(0%)",oTransform:"translateX(0%)",msTransform:"translateX(0%)",transform:"translateX(0%)",opacity:1}));n===this.pages||u&&u.length>0||this.createPage(n+1,!0);n===1||r&&r.length>0||this.createPage(n-1,!0);n===1?(this.prevButton.addClass("disabled"),this.nextButton.removeClass("disabled")):n===this.pages?(this.nextButton.addClass("disabled"),this.prevButton.removeClass("disabled")):(this.prevButton.removeClass("disabled"),this.nextButton.removeClass("disabled"));this.pages===1&&(this.prevButton.addClass("disabled"),this.nextButton.addClass("disabled"));this.current=n}},getLabelFilePath:function(n){var t="";switch(n){case"1":t="Includes/Bookcase/label-new.png";break;case"2":t="Includes/Bookcase/label-hot.png";break;case"3":t="Includes/Bookcase/label-featured.png"}return t},createPage:function(n){var t=$("<div id='page-"+n+"' class='single-page'><\/div>");for(r=0;r<this.rows;r++){for($row=this.userData.isShowCategory=="1"&&r==0?$("<div class='case-row big'><\/div>"):$("<div class='case-row'><\/div>"),$bookWarpper=$("<div class='book-wrapper'><\/div>").width(this.cols*this.bookWidth),c=0;c<this.cols;c++)index=(n-1)*this.rows*this.cols+r*this.cols+c,index<this.total&&(this.cache[index]&&this.cache[index].length>0?$bookContianer=this.cache[index]:($bookContianer=$("<div class='book-container'><\/div>"),$imgWrapper=$("<div id='"+index+"' class='book-img-wrapper'><\/div>"),$img=$("<img class='book-img' src='http://iebys.com/Nesnes/Yerlestirme/Kapak/"+this.data[index].id+"_Thumb.jpg'/>").appendTo($bookContianer),$label=$("<img class='book-label' src='"+this.getLabelFilePath(this.data[index].label)+"'>"),$priceLabel=$("<div class='price-label' title='"+this.data[index].sinif+"'>"+this.data[index].sinif+"<\/div>"),this.data[index].label=="0"&&$label.hide(),$bookContianer.append($imgWrapper.append($img).append($label).append($priceLabel)),this.autoFitToBottom($bookContianer,$imgWrapper,$img,index)),$bookContianer.appendTo($bookWarpper));$row.append($bookWarpper).appendTo(t)}return t.appendTo(this.casePageContainer),t},prev:function(){this.current!==1&&this.skipTo(this.current-1)},next:function(){this.current!==this.pages&&this.skipTo(this.current+1)},resize:function(n){n&&(this.total=this.data.length,this.cache=[]);typeof this.topHeight=="undefined"&&(this.topHeight=this.navContainer.height(),this.bottomHeight=this.controlPanel.height());var f=this.container.height(),u=this.container.width(),t=Math.floor((f-this.topHeight-this.bottomHeight-this.firstRowOverHeight)/this.rowHeight),t=t>0?t:1,r=Math.floor((u-this.offsetX*2)/this.bookWidth),e=Math.ceil(this.total/(t*r))||1,i;for(this.navRightButtonContainer.css("left",Math.floor((u-this.navRightButtonContainer.width())/2)),n||t!==this.rows||r!=this.cols?(this.casePageContainer.empty(),this.needReload=!0):this.needReload=!1,this.rows=t,this.cols=r,this.pages=e,this.caseBackground.empty(),i=0;i<t;i++)this.userData.isShowCategory=="1"&&i==0?this.caseBackground.append($("<div class='case-row big'><div class='case-left'><\/div><div class='case-middle'><\/div><div class='case-right'><\/div><\/div>")):this.caseBackground.append($("<div class='case-row'><div class='case-left'><\/div><div class='case-middle'><\/div><div class='case-right'><\/div><\/div>"));this.current>this.pages&&(this.current=this.pages);this.skipTo(this.current);this.pageInput.width(this.getInputAutoWidth(this.pageInput))}};LightBox.prototype={constructor:LightBox,getBox:function(){return this.box},getPanel:function(){return this.panel},launch:function(n){var i=$("body"),t=this,r,u;n&&(u=this.box.find("input, textarea"),u.each(function(n,i){var r=$(i);r.on("focus",function(){t.isNoResize=!0});r.on("blur",function(){t.isNoResize=!1})}));this.background.appendTo(i).fadeIn();this.box.appendTo(i);this.resize(0);r=t.box.height()>window.innerHeight?t.document.scrollTop()+0:(window.innerHeight-this.box.height())/2+this.document.scrollTop();this.box.css("top",this.document.scrollTop()).animate({opacity:1,top:r},200)},cancel:function(){var n=this;n.background.fadeOut(function(){n.background.remove()});n.box.animate({opacity:0,top:this.document.scrollTop()},200,function(){n.box.remove()})},resizeH:function(){this.box.css({left:(window.innerWidth-this.box.width())/2})},resize:function(n){if(window.innerWidth<this.width||this.width=="auto"?this.box.width(window.innerWidth):this.box.width(this.width),!this.isNoResize){typeof n=="undefined"&&(n=400);var t;t=this.box.outerHeight()>window.innerHeight?this.document.scrollTop():this.document.scrollTop()+(window.innerHeight-this.box.outerHeight())/2;this.box.animate({left:(window.innerWidth-this.box.outerWidth())/2,top:t},n)}}};DemoPanel.prototype={resize:function(){this.lightBox.resize(0);this.iframe.width(window.innerWidth-10);this.iframe.height(window.innerHeight-65);this.lightBox.resize(0)}};BookDetailPanel.prototype={view:function(){this.lightBox.cancel();new DemoPanel(this.data.title,this.data._domainUrl)},resize:function(){this.detailContainer.width((window.innerWidth<this.boxWidth?window.innerWidth:this.boxWidth)-270)}};UserDetailPanel.prototype={sendAnother:function(){this.lightBox.cancel();new UserDetailPanel(this.data)},close:function(){this.lightBox.cancel()},reSend:function(){this.errorGroup.slideUp();this.sendingGroup.slideDown();this.send()},send:function(){var n=this,t=this.nameInput.val().trim(),i=this.emailInput.val().trim(),r=this.subjectInput.val().trim(),u=this.messageArea.val().trim(),f=this.data.name,e=this.data.email;utils.validateForm(this.contactForm)&&$.ajax({type:"post",url:"/Email/bookcase.email.php",data:{fromFullName:t,fromEmail:i,fromSubject:r,fromMessage:u,toName:f,toEmail:e,Code:hex_md5(encodeURIComponent(t+i+r+u+f+e+"fliphtml5"))},beforeSend:function(){n.contactForm.slideUp();n.sendingGroup.slideDown()},success:function(t){n.sendingGroup.slideUp();t=="1"?n.successGroup.slideDown():n.errorGroup.slideDown()},error:function(){n.sendingGroup.slideUp();n.errorGroup.slideDown()}})}};SharePanel.prototype={sendAnother:function(){this.lightBox.cancel();new SharePanel(this.options)},close:function(){this.lightBox.cancel()},reSend:function(){this.errorGroup.slideUp();this.sendingGroup.slideDown();this.send()},send:function(){var n=this,t=this.toEmailInput.val().trim(),i=this.fromNameInput.val().trim(),r=this.fromEmailInput.val().trim(),u=this.messageInput.val().trim();utils.validateForm(this.emailPanel)&&$.ajax({type:"post",url:"/Email/sharebookcase.php",dataType:"json",data:{toEmail:t,fromFullName:i,fromEmail:r,fromMessage:u},beforeSend:function(){n.shareForm.slideUp();n.sendingGroup.slideDown()},success:function(t){n.sendingGroup.slideUp();t.status=="1"?(n.successGroup.slideDown(),!n.options.isSelf):n.errorGroup.slideDown()},error:function(){n.sendingGroup.slideUp();n.errorGroup.slideDown()}})}};SmartSelect.prototype={constructor:SmartSelect,val:function(){return this.valueContainer.data("value")},choose:function(n){$target=$(n.target);$target.is("li")&&(this.valueContainer.text($target.data("label")).data("value",$target.data("value")),this.options.changeCallback&&this.options.changeCallback($target.data("value")))},toggleOption:function(){this.showing?this.hideOptions():this.showOptions()},showOptions:function(){var n=this;n.optionContainer.stop().show().animate({marginTop:0,opacity:1},200,function(){n.showing=!0})},hideOptions:function(){var n=this;n.optionContainer.stop().animate({marginTop:-3,opacity:0},100,function(){n.showing=!1;n.optionContainer.hide()})}};
//# sourceMappingURL=bookcase.min.js.map
